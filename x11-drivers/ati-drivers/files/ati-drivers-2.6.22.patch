--- common/lib/modules/fglrx/build_mod/firegl_public.c	2006-12-18 10:58:15.000000000 -0500
+++ common/lib/modules/fglrx/build_mod/firegl_public.c	2006-12-18 11:14:04.000000000 -0500
@@ -143,12 +143,14 @@
 #define EXPORT_NO_SYMBOLS
 #endif
 
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,22)
 #ifdef __x86_64__
 #if LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,12)
 #include "linux/ioctl32.h"
 #else
 #include "asm/ioctl32.h"
 #endif
+#endif
 
 #ifdef __x86_64__
 #include "asm/compat.h"
