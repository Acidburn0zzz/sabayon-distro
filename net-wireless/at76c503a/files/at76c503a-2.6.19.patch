diff -Nurp at76_usb-0.14beta1.orig/at76c503.c at76_usb-0.14beta1/at76c503.c
--- at76_usb-0.14beta1.orig/at76c503.c	2006-08-29 16:01:09.000000000 +0200
+++ at76_usb-0.14beta1/at76c503.c	2006-12-25 01:56:36.000000000 +0100
@@ -17,8 +17,14 @@
  *
  * Some iw_handler code was taken from airo.c, (C) 1999 Benjamin Reed
  */
+#include <linux/version.h>
 
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2,6,18)
 #include <linux/config.h>
+#else
+# include <linux/autoconf.h>
+#endif
+
 #include <linux/init.h>
 #include <linux/kernel.h>
 #include <linux/version.h>
diff -Nurp at76_usb-0.14beta1.orig/at76_usbdfu.c at76_usb-0.14beta1/at76_usbdfu.c
--- at76_usb-0.14beta1.orig/at76_usbdfu.c	2006-08-29 16:01:09.000000000 +0200
+++ at76_usb-0.14beta1/at76_usbdfu.c	2006-12-25 01:52:43.000000000 +0100
@@ -24,7 +24,14 @@
  * - Firmware upload (device-to-host) support
  */
 
-#include <linux/config.h>
+#include <linux/version.h>
+
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2,6,18)
+ #include <linux/config.h>
+#else
+ #include <linux/autoconf.h>
+#endif
+
 #include <linux/slab.h>
 #include <linux/usb.h>
 #include "at76c503.h"
